@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;

  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  --background: #ffffff;
  --foreground: #071227;

  --himsi-blue-900: #0A3763;
  --himsi-blue-600: #2464A8;
  --himsi-gold: #D3A32D;
  --himsi-slate: #BFBFBF;
}

.dark {
  --background: #071227;
  --foreground: oklch(0.985 0 0);

  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);

  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);

  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);

  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);

  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);

  --destructive: oklch(0.704 0.191 22.216);
  --destructive-foreground: oklch(0.637 0.237 25.331);

  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);

  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);

  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@theme inline {
  --font-sans: "Montserrat";
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    @apply border-border outline-ring/50;
  }
  html { @apply scroll-smooth; }
  body { @apply bg-background text-foreground; }
}

@layer utilities {
  /* =========================
     1) GLASS: biar di white theme tetap kelihatan
     ========================= */
  :root{
    --glass-bg: rgba(255,255,255,0.68);
    --glass-border: rgba(7,18,39,0.14);
    --glass-shadow: 0 18px 60px rgba(7,18,39,0.14);
    --glass-blur: 18px;
  }
  .dark{
    --glass-bg: rgba(255,255,255,0.10);
    --glass-border: rgba(255,255,255,0.16);
    --glass-shadow: 0 20px 80px rgba(0,0,0,0.45);
    --glass-blur: 22px;
  }

  .glass-effect{
    background: linear-gradient(
      135deg,
      color-mix(in srgb, var(--glass-bg) 92%, white) 0%,
      color-mix(in srgb, var(--glass-bg) 92%, transparent) 55%,
      color-mix(in srgb, var(--glass-bg) 85%, transparent) 100%
    );
    border: 1px solid var(--glass-border);
    border-radius: 40px;
    box-shadow: var(--glass-shadow);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
  }

  .glass-effect-sm{
    background: linear-gradient(
      135deg,
      color-mix(in srgb, var(--glass-bg) 88%, white) 0%,
      color-mix(in srgb, var(--glass-bg) 86%, transparent) 100%
    );
    border: 1px solid color-mix(in srgb, var(--glass-border) 92%, transparent);
    border-radius: 24px;
    box-shadow: 0 12px 44px rgba(0,0,0,0.12);
    backdrop-filter: blur(calc(var(--glass-blur) - 4px));
    -webkit-backdrop-filter: blur(calc(var(--glass-blur) - 4px));
  }

  .glass-card{
    background: linear-gradient(
      135deg,
      color-mix(in srgb, var(--glass-bg) 92%, white) 0%,
      color-mix(in srgb, var(--glass-bg) 88%, transparent) 100%
    );
    border: 1px solid var(--glass-border);
    border-radius: 40px;
    box-shadow: var(--glass-shadow);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
  }

  /* =========================
     2) ONE BACKGROUND SYSTEM: semua section nyatu
     ========================= */
  .himsi-surface{
    position: relative;
    overflow: hidden;

    /* warna dasar (WHITE theme) */
    --bg-angle: 90deg;
    --bg-c1: #EAF3FF;
    --bg-c2: #FFFFFF;
    --bg-c3: #FFF2D8;

    background: linear-gradient(
      var(--bg-angle),
      var(--bg-c1) 0%,
      var(--bg-c2) 48%,
      var(--bg-c3) 100%
    );
  }

  /* glow layer (white/blue/gold + streak) */
  .himsi-surface::before{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    z-index:0;

    /* default mapping (HERO) */
    --w-pos: 46% 20%;
    --w-a0: 0.92;
    --w-a1: 0.55;

    --b-pos: 18% 38%;
    --b-a0: 0.30;
    --b-a1: 0.12;

    --g-pos: 82% 44%;
    --g-a0: 0.30;
    --g-a1: 0.12;

    --streak-a: 0.35;

    /* penting: bikin tiap section “nyatu” (fade atas/bawah) */
    mask-image: linear-gradient(to bottom, transparent 0%, black 12%, black 88%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 12%, black 88%, transparent 100%);

    background:
      radial-gradient(900px 650px at var(--w-pos),
        rgb(255 255 255 / var(--w-a0)) 0%,
        rgb(255 255 255 / var(--w-a1)) 30%,
        rgb(255 255 255 / 0) 72%
      ),
      radial-gradient(900px 700px at var(--b-pos),
        rgb(36 100 168 / var(--b-a0)) 0%,
        rgb(36 100 168 / var(--b-a1)) 45%,
        rgb(36 100 168 / 0) 75%
      ),
      radial-gradient(980px 760px at var(--g-pos),
        rgb(211 163 45 / var(--g-a0)) 0%,
        rgb(211 163 45 / var(--g-a1)) 55%,
        rgb(211 163 45 / 0) 82%
      ),
      linear-gradient(-12deg,
        rgb(255 255 255 / 0) 36%,
        rgb(255 255 255 / var(--streak-a)) 49%,
        rgb(255 255 255 / 0) 63%
      );
  }

  /* dot/pattern layer */
  .himsi-surface::after{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    z-index:0;

    --dot: rgb(10 55 99 / 0.10);
    --dot-opacity: 0.30;
    --dot-mode: multiply;

    mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);

    background:
      radial-gradient(circle at 72% 26%, var(--dot) 0 1px, transparent 2px),
      radial-gradient(circle at 84% 52%, rgb(10 55 99 / 0.09) 0 1px, transparent 2px),
      radial-gradient(circle at 64% 64%, rgb(10 55 99 / 0.08) 0 1px, transparent 2px),
      radial-gradient(circle at 30% 72%, rgb(10 55 99 / 0.08) 0 1px, transparent 2px);

    background-size: 140px 140px;
    opacity: var(--dot-opacity);
    mix-blend-mode: var(--dot-mode);
  }

  /* =========================
     3) DARK THEME: glow jangan terang + white glow dimatikan
     ========================= */
  .dark .himsi-surface{
    --bg-angle: 180deg;
    --bg-c1: #071227;
    --bg-c2: #081A33;
    --bg-c3: #071227;
  }

  .dark .himsi-surface::before{
    /* MATIKAN glow putih (yang bikin “terang” & nggak dark) */
    --w-a0: 0;
    --w-a1: 0;

    /* lembutin blue/gold */
    --b-a0: 0.18;
    --b-a1: 0.06;

    --g-a0: 0.14;
    --g-a1: 0.05;

    /* streak putih diperkecil */
    --streak-a: 0.06;

    /* sedikit redup biar “dark” berasa */
    filter: saturate(0.92) brightness(0.88);
  }

  .dark .himsi-surface::after{
    --dot: rgb(255 255 255 / 0.10);
    --dot-opacity: 0.16;
    --dot-mode: overlay;
  }

  /* =========================
     4) PER-SECTION MAPPING (beda posisi aja)
     ========================= */
  .himsi-map-hero{
    --w-pos: 46% 20%;
    --b-pos: 18% 38%;
    --g-pos: 82% 44%;
  }

  .himsi-map-about{
    --w-pos: 50% 18%;
    --b-pos: 18% 26%;
    --g-pos: 82% 30%;
    --streak-a: 0.22;
  }

  .himsi-map-speech{
    --w-pos: 55% 26%;
    --b-pos: 22% 78%;
    --g-pos: 78% 22%;
    --streak-a: 0.16;
  }

  .himsi-map-testimonials{
    --w-pos: 48% 24%;
    --b-pos: 22% 20%;
    --g-pos: 80% 52%;
    --streak-a: 0.18;
  }

  .himsi-map-contact{
    --w-pos: 52% 22%;
    --b-pos: 18% 55%;
    --g-pos: 84% 40%;
    --streak-a: 0.16;
  }

  /* Footer: di dark lebih “deep” tapi tetap nyatu (bukan potong) */
  .dark .himsi-map-footer{
    --bg-angle: 180deg;
    --bg-c1: #081A33;
    --bg-c2: #071227;
    --bg-c3: #050B18;

    --b-a0: 0.14;
    --b-a1: 0.05;
    --g-a0: 0.10;
    --g-a1: 0.04;

    --streak-a: 0.04;
    --dot-opacity: 0.14;
  }
}

